<!DOCTYPE html>
<html>
    <head>
        <title>Doric (again)</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width" />
        <meta charset="utf-8" />

        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="https://unpkg.com/ionicons@4.5.5/dist/css/ionicons.min.css" rel="stylesheet">

        <script src="https://unpkg.com/react@16.7.0/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@16.7.0/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/pubsub-js@1.7.0/src/pubsub.js"></script>

        <script src="https://unpkg.com/@axel669/teascript@0.14.4/standalone/transpiler.js"></script>
        <script src="https://unpkg.com/@axel669/norn@0.4.1/standalone/norn.js"></script>
        <script src="https://unpkg.com/@axel669/immutable-update@0.1.0/browser/update.js"></script>
        <script src="https://unpkg.com/ssjs@1.0.0/standalone/ss.js"></script>
        <script src="https://unpkg.com/@axel669/bind@1.0.0/standalone/bind.js"></script>
    </head>
    <body>
        <app-root></app-root>
        <script src="../standalone/doric-components.js"></script>
        <!-- <script type="text/teascript" src="inventory.tea"></script> -->
        <script type="text/teascript">
        let Test = ({item}) => <div style={textAlign: "center"}>{item.label}</div>

        class Main extends React.Component {
            constructor(props) => {
                super(props)
                @state = {
                    tab: 0
                }
            }

            render() => {
                let change = (evt) => @setState({
                    tab: evt.selectedTab
                })
                let items = [0...10: (n) =>
                    {value: n, label: `Item ${n}`}
                ]

                return <div>
                    <doric.tabs selectedTab=@state.tab onTabChange=change cols=3>
                        <doric.tab label="test">
                            test
                        </doric.tab>
                        <doric.tab label="test #2">
                            test #2
                        </doric.tab>
                        <doric.tab label="test #3">
                            test #3
                        </doric.tab>
                    </doric.tabs>
                    <doric.list items=items itemRenderer=Test />
                </div>
            }
        }

        ReactDOM.render(
            <Main />
            document.querySelector("app-root")
        )
        </script>
    </body>
</html>
